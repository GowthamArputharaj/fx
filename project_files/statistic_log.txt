

19-July-2021 Monday 08:40 am

After implementing auto close all order in next minute 

1 minute chart

4 charts ( eurusd, usdjpy, euraud, audcad )

-7.80  at [ 19-July-2021 Monday 08:40 am ]

( choosed to let it run until 8:50 am and see what happens.. )
( ofcourse cannot go wild with it because the spread is too low for all the charst in roboforex )

( maybe should try it with 5 minute and 15 minute chart )
( I am also thinking about changing the lot size and making it dynamic with respect the number of confident weight signals )



-8.37 at [ 19-July-2021 Monday 08:50 am ]


AFTER 10 MINUTES LOST ( 0.50 dollar )

ISSUES:
	1 minute chart candle covers less pips ( so the spread is taking higher commission amount for profit )

	In a support / Resistace there may be an oscillation 

After lossing many in 5 minute try 

in 5 minutes we are losing about 2%



1.7761 -> sl 

TRYING TO Modifying Trailing Stop Loss
Empty DataFrame
Columns: []
Index: []

      ticket                time  type     magic  identifier  reason  volume  price_open       sl   tp  price_current  swap  profit  symbol           comment
0  203984461 2021-07-21 06:45:08     0  12345678   203984461       3    0.01       0.929  0.92846  0.0        0.92886   0.0   -0.11  AUDCAD  python script op
Traceback (most recent call last):
  File "project_candle_line_oscillator.py", line 2489, in <module>
    trade()
  File "project_candle_line_oscillator.py", line 2344, in trade
    takeTradeDecision()
  File "project_candle_line_oscillator.py", line 2288, in takeTradeDecision
    closePreviousTrades()
  File "project_candle_line_oscillator.py", line 653, in closePreviousTrades
    print(live_pos['ticket'] == position['positionValue'])
TypeError: string indices must be integers



TradePosition(
	ticket=203982321, time=1626846229, time_msc=1626846229782, time_update=1626846229, time_update_msc=1626846229782, type=0, magic=0, identifier=203982321, reason=0, volume=0.01, price_open=0.92852, sl=0.0, tp=0.0, price_current=0.92842, swap=0.0, profit=-0.08, symbol='AUDCAD', comment='', external_id='')

No positions with group="*AUD*", error code=(-2, 'Unnamed arguments not allowed')


		new_future_close_positions = { 'timeToClose': close_timestamp, 'positionValue': positionValue, 'positionType': positionType, 'timeFrame': timeframe, 'hasTrailingStopLoss': hasTrailingStopLoss, 'symbol': selected_symbol }





(TradePosition(ticket=204249631, time=1627021808, time_msc=1627021808661, time_update=1627021808, time_update_msc=1627021808661, type=0, magic=12345678, identifier=204249631, reason=3, volume=0.01, price_open=0.92779, sl=0.92726, tp=0.0, price_current=0.92772, swap=0.0, profit=-0.06, symbol='AUDCAD', comment='python script op', external_id=''),) AUDCAD
There are 1 open positions in market
Traceback (most recent call last):
  File "project_candle_line_oscillator.py", line 2415, in <module>
    closePreviousTrades()
  File "project_candle_line_oscillator.py", line 674, in closePreviousTrades
    setNeedToCloseInFuturePositions()
  File "project_candle_line_oscillator.py", line 466, in setNeedToCloseInFuturePositions
    local_position['profit'] = live_position_profit
TypeError: list indices must be integers or slices, not str



709 642

709 702

709 762

594

{'action': 1, 'symbol': 'EURAUD', 'volume': 0.01, 'type': 1, 'position': 204321750, 'price': 1.59636, 'deviation': 20, 'magic': 12345678, 'comment': 'python script close', 'type_time': 0, 'type_filling': 1}


metatrader order send returns None

opened trade buy
{'action': 1, 'symbol': 'EURUSD', 'volume': 0.01, 'type': 0, 'price': 1.18031, 'sl': 1.17992, 'tp': 0.0, 'deviation': 20, 'magic': 12345678, 'comment': 'python script open', 'type_time': 0, 'type_filling': 1}



{'action': 1, 'symbol': 'EURUSD', 'volume': 0.01, 'type': 0, 'price': 1.18219, 'sl': 1.18184, 'tp': 0.0, 'deviation': 20, 'magic': 12345678, 'comment': 'python script open', 'type_time': 0, 'type_filling': 1}




{'action': 1, 'symbol': 'EURUSD', 'volume': 0.01, 'type': 0, 'position': 204650397, 'price': 1.1822, 'deviation': 20, 'magic': 12345678, 'comment': 'python script close', 'type_time': 0, 'type_filling': 1}


new


{'action': 1, 'symbol': 'AUDCAD', 'volume': 0.01, 'type': 1, 'price': 0.92661, 'sl': 0.92697, 'tp': 0.0, 'deviation': 20, 'magic': 12345678, 'comment': 'python script open', 'type_time': 0, 'type_filling': 1}

{'action': 1, 'symbol': 'AUDCAD', 'volume': 0.01, 'type': 0, 'position': 204650738, 'price': 0.9268, 'deviation': 20, 'magic': 12345678, 'comment': 'python script close', 'type_time': 0, 'type_filling': 1}

----------------------------------------------------------------

{'action': 1, 'symbol': 'EURUSD', 'volume': 0.01, 'type': 1, 'price': 1.18225, 'sl': 1.18246, 'tp': 0.0, 'deviation': 20, 'magic': 12345678, 'comment': 'python script open', 'type_time': 0, 'type_filling': 1}

{'action': 1, 'symbol': 'EURUSD', 'volume': 0.01, 'type': 0, 'position': 204650913, 'price': 1.18224, 'deviation': 20, 'magic': 12345678, 'comment': 'python script close', 'type_time': 0, 'type_filling': 1}

----------------------------------------------------------------

{'action': 1, 'symbol': 'EURUSD', 'volume': 0.01, 'type': 1, 'price': 1.1822300000000001, 'sl': 1.18243, 'tp': 0.0, 'deviation': 20, 'magic': 12345678, 'comment': 'python script open', 'type_time': 0, 'type_filling': 1}

{'action': 1, 'symbol': 'EURUSD', 'volume': 0.01, 'type': 0, 'position': 204650956, 'price': 1.18234, 'deviation': 20, 'magic': 12345678, 'comment': 'python script close', 'type_time': 0, 'type_filling': 1}

----------------------------------------------------------------

{'action': 1, 'symbol': 'EURUSD', 'volume': 0.01, 'type': 1, 'price': 1.18246, 'sl': 1.18267, 'tp': 0.0, 'deviation': 20, 'magic': 12345678, 'comment': 'python script open', 'type_time': 0, 'type_filling': 1}

{'action': 1, 'symbol': 'EURUSD', 'volume': 0.01, 'type': 0, 'position': 204651445, 'price': 1.18258, 'deviation': 20, 'magic': 12345678, 'comment': 'python script close', 'type_time': 0, 'type_filling': 2}

----------------------------------------------------------------

{'action': 1, 'symbol': 'GBPUSD', 'volume': 0.01, 'type': 1, 'price': 1.38826, 'sl': 1.38847, 'tp': 0.0, 'deviation': 20, 'magic': 12345678, 'comment': 'python script open', 'type_time': 0, 'type_filling': 1}

{'action': 1, 'symbol': 'GBPUSD', 'volume': 0.01, 'type': 0, 'position': 204651820, 'price': 1.38835, 'deviation': 20, 'magic': 12345678, 'comment': 'python script close', 'type_time': 0, 'type_filling': 1}

----------------------------------------------------------------

{'action': 1, 'symbol': 'EURUSD', 'volume': 0.01, 'type': 0, 'price': 1.1825700000000001, 'sl': 1.18238, 'tp': 0.0, 'deviation': 20, 'magic': 12345678, 'comment': 'python script open', 'type_time': 0, 'type_filling': 1}

{'action': 1, 'symbol': 'EURUSD', 'volume': 0.01, 'type': 1, 'position': 204651959, 'price': 1.18256, 'deviation': 20, 'magic': 12345678, 'comment': 'python script close', 'type_time': 0, 'type_filling': 1}

----------------------------------------------------------------

{'action': 1, 'symbol': 'GBPUSD', 'volume': 0.01, 'type': 1, 'price': 1.38823, 'sl': 1.38844, 'tp': 0.0, 'deviation': 20, 'magic': 12345678, 'comment': 'python script open', 'type_time': 0, 'type_filling': 1}

{'action': 1, 'symbol': 'GBPUSD', 'volume': 0.01, 'type': 0, 'position': 204652061, 'price': 1.38826, 'deviation': 20, 'magic': 12345678, 'comment': 'python script close', 'type_time': 0, 'type_filling': 1}

----------------------------------------------------------------

